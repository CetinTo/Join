<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Raleway:ital,wght@0,100..900;1,100..900&family=Rubik+Vinyl&display=swap"
      rel="stylesheet" />
    <link rel="icon" href="./img/capa.png" type="image/png" />
    <link rel="stylesheet" href="./styles/standard.css" />
    <link rel="stylesheet" href="./styles/header.css" />
    <link rel="stylesheet" href="./styles/side-menu.css" />
    <link rel="stylesheet" href="./styles/summary.css" />
    <link rel="stylesheet" href="./styles/profile-dropdown.css" />
    <!-- <link rel="stylesheet" href="../contact/styles/contacts.css" /> -->
    <!-- <link rel="stylesheet" href="./help.css"> -->
    <title>Document</title>
    <script src="./scripts/user.js"></script>
    <script src="./scripts/indexCounter.js"></script>
    <script src="./scripts/indexLogout.js"></script>
    <script src="./scripts/dropdown.js"></script>
    <script src="./scripts/logout.js"></script>
  </head>
  <body>
    <script>
      // Prüfung beim Laden der Seite, ob Benutzer eingeloggt ist
      // Falls nicht eingeloggt, Weiterleitung zur Login-Seite
      // Prüfe ob eingeloggt
      const isLoggedIn = localStorage.getItem('userLoggedIn');
      
      if (isLoggedIn) {
        // Eingeloggt - bleibe auf Summary
        console.log('✅ Eingeloggt - bleibe auf Summary');
      } else {
        // Nicht eingeloggt - gehe zu Login
        console.log('❌ Nicht eingeloggt - gehe zu Login');
        window.location.href = './html/login.html';
      }
    </script>
    <div class="side-menu">
      <div class="logo-content-container">
        
        <div class="logo-container-side-menu-responsive">
          <img src="./img/capa_white.png" alt="Join.Logo" class="logo" />
        </div>
        <div class="menu-content">
          <div class="selected-menu">
            <a href="./index.html">
              <img src="./img/icon/summary.png" alt="summary" />Summary
            </a>
          </div>
          <div class="menu-content-div">
            <a href="./html/addtask.html"  >
              <img src="./img/icon/add_task.png" alt="add task">
              Add Task
            </a>
          </div>
          <div class="menu-content-div resp-cont-div">
            <a href="./html/board.html">
              <img src="./img/icon/board.png" alt="board" />Board
            </a>
          </div>
          <div class="menu-content-div">
            <a href="./html/contacts.html">
              <img src="./img/icon/contacts.png" alt="contacts" />Contacts
            </a>
          </div>
        </div>
      </div>
      <div class="policy-container">
        <div class="policy-container-div">
          <div>
            <a href="./resources/private-policy/privacy-policy.html">Privacy Policy</a>
          </div>
          <div>
            <a href="./resources/legal-notice/legal-notice.html">Legal Notice</a>
          </div>
        </div>
      </div>
    </div>
    <div class="main-div">
      <div class="header">
        <div class="main-header">
          <div class="header-logo-none-resp">
            <img class="header-Logo" src="./img/capa.png" alt />
          </div>
          <div class="headline-header">Kanban Project Management Tool</div>
          <div class="header-right-side">
            <div>
              <a href="./resources/help/help.html" >
                <img src="./img/icon/help.png" alt="" />
              </a>
            </div>
            <div class="account">
              <div>G</div>
            </div>
          </div>
        </div>
      </div>
      <div class="dropdown-menu">
        <div class="dropdown-content">
          <div class="dropdown-content-div">
            <div class="dropdown-content-div-text">
              <div>
                <a href="./resources/help/help.html" >Help</a>
              </div>
            </div>
          </div>
          <div class="dropdown-content-div">
            <div class="dropdown-content-div-text">
              <div>
                <a href="./resources/legal-notice/legal-notice.html">Legal notice</a>
              </div>
            </div>
          </div>
          <div class="dropdown-content-div">
            <div class="dropdown-content-div-text">
              <div>
                <a href="./resources/private-policy/privacy-policy.html">Privacy Policy</a>
              </div>
            </div>
          </div>
          <div class="dropdown-content-div" onclick="logout()">
            <div class="dropdown-content-div-text">
              <div>
                <a href="./html/login.html" >Logout</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="main-section">
        <div class="content-area">
          <div class="headline-main-div">
            <div class="headline-section">
              <div class="headline-text">Join 360</div>
              <div class="hr">|</div>
              <div class="headline-span">Key Metrics at a Glance</div>
              <p class="hr2">Key Metrics at a Glance</p>
            </div>
          </div>
          <div class="main-container-section">
            <div class="to-do-section">
              <div class="to-do-first-section">
                <div class="flexrow to-do-div" onclick="goToBoard()">
                  <div>
                    <img src="./img/icon/to-do-icon.png" alt="" class="to-do-icon" />
                  </div>
                  <div class="flxcolumn to-do-div-resp">
                    <div class="counter">0</div>
                    <div class="span to-do-div-resp-span">To-do</div>
                  </div>
                </div>
                <div class="flexrow to-do-div" onclick="goToBoard()">
                  <div>
                    <img src="./img/icon/done-icon.png" alt="" class="to-do-icon" />
                  </div>
                  <div class="flexcolumn done-div-resp">
                    <div class="counter-done">0</div>
                    <div class="span">done</div>
                  </div>
                </div>
              </div>
              <div class="to-do-second-section" onclick="goToBoard()">
                <div class="urgent-container flexrow">
                  <img src="./img/icon/urgent_icon.png" alt="" class="to-do-icon" />
                  <div class="flexcolumn">
                    <div class="urgent-counter counter">0</div>
                    <div class="urgent-text span">Urgent</div>
                  </div>
                </div>
                <div class="hr3">|</div>
                <div class="deadline-container">
                  <div class="deadline-date">October 16, 2024</div>
                  <div class="span-deadline">Upcoming Deadline</div>
                </div>
              </div>
              <div class="flexrow to-do-third-section">
                <div class="tasks-in-board task-in-board-resp" onclick="goToBoard()">
                  <div class="counter-tasks-in-board">0</div>
                  <div class="span">Tasks in Board</div>
                </div>
                <div class="tasks-in-board task-in-board-resp" onclick="goToBoard()">
                  <div class="counter-in-progress">0</div>
                  <div class="span">Tasks in Progress</div>
                </div>
                <div class="tasks-in-board task-in-board-resp" onclick="goToBoard()">
                  <div class="counter-await-feedback">0</div>
                  <div class="span">Awaiting Feedback</div>
                </div>
              </div>
            </div>
            <div class="greeting-section-container">
              <div class="greeting-section">
                <div>Good morning!</div>
                <name-span class="username-span ">Guest</name-span>
              </div>
            </div>
            
          </div>
        </div>
      </div>

      <div class="side-menu-bottom">
        <div class="logo-content-container-bottom">
          <div class="menu-content-bottom">
            <div class="selected-menu bottom-menu">
              <a href="./index.html">
                <img src="./img/icon/summary.png" alt="summary" />Summary
              </a>
            </div>
            <div class="menu-content-div resp-cont-div bottom-menu">
              <a href="./html/addtask.html">
                <img src="./img/icon/board.png" alt="board" />Board
              </a>
            </div>
            <div class="menu-content-div bottom-menu">
              <a href="./html/addtask.html" >
                <img src="./img/icon/add_task.png" alt="add task">
                Add Task
              </a>
            </div>
            <div class="menu-content-div bottom-menu">
              <a href="./html/contacts.html">
                <img src="./img/icon/contacts.png" alt="contacts" />Contacts
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
<script>

  
function goToBoard() {
  window.location.href = "./board/board.html";
}

document.querySelector('.account').addEventListener('click', function(event) {
  event.stopPropagation();
  document.querySelector('.dropdown-menu').classList.toggle('show');
});

document.addEventListener('click', function(event) {
  const dropdown = document.querySelector('.dropdown-menu');
  if (!dropdown.contains(event.target) && dropdown.classList.contains('show')) {
  dropdown.classList.remove('show');
  }
});


</script>
    
<script>
      
window.onload = function() {
    var accountButton = document.querySelector('.account');
    var dropdownMenu = document.querySelector('.dropdown-menu');
      accountButton.outerHTML = accountButton.outerHTML;
      accountButton = document.querySelector('.account');
      accountButton.addEventListener('click', function(event) {
        event.stopPropagation();
        event.preventDefault();
        console.log('Account-Button wurde geklickt');
          if (dropdownMenu.style.display === 'block') {
            dropdownMenu.style.display = 'none';
          } else {
            dropdownMenu.style.display = 'block';
      }
});

document.addEventListener('click', function() {
      dropdownMenu.style.display = 'none';
});

dropdownMenu.addEventListener('click', function(event) {
          event.stopPropagation();
        });
};

</script>
  </body>
</html>